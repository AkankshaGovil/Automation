"""
Common classes and functions used in XML processing.
"""
class UnknownTagError(Exception):
    """Simple exception when a weird tag is encountered.

    TODO : replace this with SAXParseException and a Locator
    """
    def __init__(self, tag):
        self.tag = tag
    def __str__(self):
        message = "Parser encountered unknown tag '%s'." % self.tag
        return message

def normalize(text):
    """Convert text input from unicode to 8-bit ASCII, then remove
    redundant whitespace and quotes."""
    text = text.encode('utf-8')
    # Python idiom to remove extraneous spaces
    text = ' '.join(text.split())
    return text.strip('"')
